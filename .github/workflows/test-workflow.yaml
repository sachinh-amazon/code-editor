name: Security Scanning

on:
  workflow_dispatch:

jobs:
  get-branches-to-scan:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        run: |
          echo "Hi!"

  security-scan:
    runs-on: ubuntu-latest
    needs: [get-branches-to-scan]
    strategy:
      matrix:
        target: [code-editor-sagemaker-server, code-editor-server]
    steps:
      - name: Assume IAM Role
        run: |
          sleep 5m
          exit 1
        
  
  security-scan-global-dependencies:
    runs-on: ubuntu-latest
    needs: [get-branches-to-scan]
    strategy:
      matrix:
        target: [code-editor-sagemaker-server, code-editor-server]
    steps:
      - name: Assume IAM Role
        run: |
          echo "Exiting"
          exit 1